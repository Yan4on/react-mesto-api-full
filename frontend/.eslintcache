[{"E:\\Users\\Янис\\dev\\mesto-react\\src\\index.js":"1","E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\Footer.js":"2","E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\PopupWithImage.js":"3","E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\AddCardPopup.js":"4","E:\\Users\\Янис\\dev\\mesto-react\\src\\utils\\api.js":"5","E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\Card.js":"6","E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\PopupWithForm.js":"7","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\reportWebVitals.js":"8","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\AddCardPopup.js":"9","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\utils\\api.js":"10","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Footer.js":"11","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\PopupHTML.js":"12","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\App.js":"13","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\FormSign.js":"14","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Header.js":"15","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\index.js":"16","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\contexts\\CurrentUserContext.js":"17","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\utils\\auth.js":"18","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\InfoTooltip.js":"19","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\ProtectedRoute.js":"20","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Main.js":"21","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\contexts\\StatePopup.js":"22","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\PopupWithForm.js":"23","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Login.js":"24","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Card.js":"25","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Register.js":"26","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\utils\\validators.js":"27","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\PopupWithImage.js":"28","E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\EditAvatarPopup.js":"29","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\index.js":"30","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\reportWebVitals.js":"31","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupWithImage.js":"32","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Header.js":"33","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\contexts\\CurrentUserContext.js":"34","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Register.js":"35","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Footer.js":"36","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\FormSign.js":"37","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupWithForm.js":"38","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditAvatarPopup.js":"39","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\utils\\auth.js":"40","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\utils\\api.js":"41","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditProfilePopup.js":"42","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\AddCardPopup.js":"43","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Main.js":"44","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\InfoTooltip.js":"45","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupHTML.js":"46","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\App.js":"47","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Login.js":"48","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\ProtectedRoute.js":"49","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Card.js":"50","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\contexts\\StatePopup.js":"51"},{"size":517,"mtime":1608332560000,"results":"52","hashOfConfig":"53"},{"size":194,"mtime":1608332560000,"results":"54","hashOfConfig":"53"},{"size":521,"mtime":1608332560000,"results":"55","hashOfConfig":"53"},{"size":1192,"mtime":1608332560000,"results":"56","hashOfConfig":"53"},{"size":3442,"mtime":1608332560000,"results":"57","hashOfConfig":"53"},{"size":1317,"mtime":1608332560000,"results":"58","hashOfConfig":"53"},{"size":751,"mtime":1608332560000,"results":"59","hashOfConfig":"53"},{"size":362,"mtime":1608332560000,"results":"60","hashOfConfig":"61"},{"size":1256,"mtime":1614423517642,"results":"62","hashOfConfig":"61"},{"size":3442,"mtime":1608332560000,"results":"63","hashOfConfig":"61"},{"size":194,"mtime":1608332560000,"results":"64","hashOfConfig":"61"},{"size":1891,"mtime":1614425145748,"results":"65","hashOfConfig":"61"},{"size":11041,"mtime":1614425994239,"results":"66","hashOfConfig":"61"},{"size":1396,"mtime":1614428226608,"results":"67","hashOfConfig":"61"},{"size":942,"mtime":1614200814181,"results":"68","hashOfConfig":"61"},{"size":610,"mtime":1614202012280,"results":"69","hashOfConfig":"61"},{"size":84,"mtime":1608332560000,"results":"70","hashOfConfig":"61"},{"size":1394,"mtime":1614203647634,"results":"71","hashOfConfig":"61"},{"size":763,"mtime":1614281497372,"results":"72","hashOfConfig":"61"},{"size":373,"mtime":1614424114105,"results":"73","hashOfConfig":"61"},{"size":1605,"mtime":1614268823252,"results":"74","hashOfConfig":"61"},{"size":78,"mtime":1614198933204,"results":"75","hashOfConfig":"61"},{"size":751,"mtime":1608332560000,"results":"76","hashOfConfig":"61"},{"size":1159,"mtime":1614428077533,"results":"77","hashOfConfig":"61"},{"size":1314,"mtime":1614509278872,"results":"78","hashOfConfig":"61"},{"size":1174,"mtime":1614428041923,"results":"79","hashOfConfig":"61"},{"size":793,"mtime":1614279401012,"results":"80","hashOfConfig":"61"},{"size":521,"mtime":1608332560000,"results":"81","hashOfConfig":"61"},{"size":868,"mtime":1614427135128,"results":"82","hashOfConfig":"61"},{"size":630,"mtime":1615067125981,"results":"83","hashOfConfig":"84"},{"size":375,"mtime":1615067125983,"results":"85","hashOfConfig":"84"},{"size":534,"mtime":1615067125964,"results":"86","hashOfConfig":"84"},{"size":966,"mtime":1615067125957,"results":"87","hashOfConfig":"84"},{"size":86,"mtime":1615067125967,"results":"88","hashOfConfig":"84"},{"size":1091,"mtime":1614732506287,"results":"89","hashOfConfig":"84"},{"size":205,"mtime":1615067125955,"results":"90","hashOfConfig":"84"},{"size":1396,"mtime":1615067125956,"results":"91","hashOfConfig":"84"},{"size":771,"mtime":1615067125963,"results":"92","hashOfConfig":"84"},{"size":901,"mtime":1615067125953,"results":"93","hashOfConfig":"84"},{"size":1311,"mtime":1615087770603,"results":"94","hashOfConfig":"84"},{"size":3936,"mtime":1615087751601,"results":"95","hashOfConfig":"84"},{"size":1569,"mtime":1615067125954,"results":"96","hashOfConfig":"84"},{"size":1299,"mtime":1615067125950,"results":"97","hashOfConfig":"84"},{"size":1666,"mtime":1615067125961,"results":"98","hashOfConfig":"84"},{"size":767,"mtime":1615068691783,"results":"99","hashOfConfig":"84"},{"size":1926,"mtime":1614732506285,"results":"100","hashOfConfig":"84"},{"size":12010,"mtime":1615080290363,"results":"101","hashOfConfig":"84"},{"size":1162,"mtime":1615067125960,"results":"102","hashOfConfig":"84"},{"size":373,"mtime":1614713551896,"results":"103","hashOfConfig":"84"},{"size":1353,"mtime":1615080733535,"results":"104","hashOfConfig":"84"},{"size":78,"mtime":1615067125969,"results":"105","hashOfConfig":"84"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"i66n1j",{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"exdy8a",{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"15bgj8r",{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"170"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"190","messages":"191","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"192"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Users\\Янис\\dev\\mesto-react\\src\\index.js",[],"E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\Footer.js",[],"E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\PopupWithImage.js",[],"E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\AddCardPopup.js",[],"E:\\Users\\Янис\\dev\\mesto-react\\src\\utils\\api.js",[],"E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\Card.js",[],"E:\\Users\\Янис\\dev\\mesto-react\\src\\components\\PopupWithForm.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\reportWebVitals.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\AddCardPopup.js",[],["214","215"],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\utils\\api.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Footer.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\PopupHTML.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\App.js",["216","217","218","219"],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\FormSign.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Header.js",[],["220","221"],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\index.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\contexts\\CurrentUserContext.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\utils\\auth.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\InfoTooltip.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\ProtectedRoute.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Main.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\contexts\\StatePopup.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\PopupWithForm.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Login.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Card.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\Register.js",["222"],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\utils\\validators.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\PopupWithImage.js",[],"E:\\Users\\Янис\\dev\\react-mesto-auth\\src\\components\\EditAvatarPopup.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\index.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\reportWebVitals.js",[],["223","224"],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupWithImage.js",[],["225","226"],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Header.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\contexts\\CurrentUserContext.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Register.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Footer.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\FormSign.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupWithForm.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditAvatarPopup.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\utils\\auth.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\utils\\api.js",["227"],"class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this.headers = headers;\r\n    // this._errorServer = document.querySelector(\".error-server\");\r\n    //this._errorServer = {};    \r\n  }\r\n\r\n  // Получение ответа от сервера, иначе ошибка\r\n  _getResponseData(res) {\r\n    if (res.ok) { return res.json(); }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`)); // если ошибка при запросе, переходим к catch\r\n  }\r\n\r\n  // Получение с сервера начальных карточек \r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        Authorization: this.headers\r\n      }      \r\n    })\r\n    .then(res => { return this._getResponseData(res); })\r\n  }\r\n\r\n  // Сохранение на сервере карточки\r\n  saveCardToServer({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        Authorization: this.headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    })\r\n      .then((res) => { return this._getResponseData(res); })\r\n  }\r\n\r\n  // Удаление на сервере карточки\r\n  deleteCardToServer(card) {\r\n    return fetch(`${this._baseUrl}/cards/${card._id}`, {\r\n      headers: {\r\n        Authorization: this.headers,\r\n      },\r\n      method: 'DELETE'\r\n    })\r\n  }\r\n\r\n  // Обновление лайка\r\n  changeLikeCardStatus(card, isLiked) {\r\n    const action = isLiked ? 'DELETE' : 'PUT';    \r\n      return fetch(\r\n        `${this._baseUrl}/cards/${card._id}/likes`, \r\n        {\r\n          headers: {\r\n            Authorization: this.headers\r\n          },\r\n          method: action,\r\n        }\r\n      )\r\n      .then(\r\n        (res) => { return this._getResponseData(res); }\r\n      );\r\n  }\r\n\r\n  // Сохранение на сервере Аватара \r\n  saveAvatarToServer({ link }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: this.headers,\r\n      },\r\n      method: 'PATCH',\r\n      body: JSON.stringify({\r\n        avatar: link\r\n      })\r\n    })\r\n      .then((res) => { return this._getResponseData(res); })\r\n  }\r\n\r\n  // Получение с сервера информация о пользователе \r\n  getUserInfoFromServer() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        Authorization: this.headers\r\n      }\r\n    })\r\n      .then(res => { return this._getResponseData(res); })\r\n  }\r\n\r\n  // Сохранение на сервере информация о пользователе \r\n  saveUserInfoToServer({ name, about }) {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token){\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        method: 'PATCH',\r\n        body: JSON.stringify({\r\n          name: name,\r\n          about: about\r\n        })\r\n      })\r\n        .then(res => { return this._getResponseData(res); })\r\n    }\r\n    \r\n  }\r\n\r\n  // Вывод ошибки запроса к серверу на страницу\r\n  setErrorServer(err) {\r\n    console.log(\"sesrver err\");\r\n    this._errorServer.textContent = `Ошибка при соединение с сервером: ${err}. Попробуйте повторить позже`;\r\n\r\n    this._errorServer.classList.add('error-server_active');\r\n    setTimeout(() => {\r\n      this._errorServer.classList.remove('error-server_active');\r\n    }, 8000)\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://api.yan4on.students.nomoredomains.icu',\r\n  // baseUrl: 'http://localhost:3000',\r\n    headers: `Bearer ${localStorage.getItem('token')}`\r\n});","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\EditProfilePopup.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\AddCardPopup.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Main.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\InfoTooltip.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\PopupHTML.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\App.js",["228"],"import React, { useEffect, useState } from 'react';\r\nimport { Route, Switch, useHistory, useLocation, Redirect } from 'react-router-dom';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer';\r\nimport DelCardPopup from './DelCardPopup';\r\nimport PopupWithImage from './PopupWithImage.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddCardPopup from './AddCardPopup.js';\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nimport { api } from '../utils/api.js';\r\nimport * as auth from '../utils/auth';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { StatePopup } from '../contexts/StatePopup';\r\n\r\n\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  // Устанавливаем стэйты\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [currURL, setCurrURL] = useState('');\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isDelCardPopupOpen, setIsDelCardPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [isInfoTooltip, setIsInfoTooltip] = useState({\r\n    isOpen: false,\r\n    message: '',\r\n    status: ''\r\n  });\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [cardToDel, setCardToDel] = useState({}); // состояние карточки, которую удаляют\r\n\r\n  // Используем хук для получения информации о юзере и карточки\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      Promise.all([\r\n        api.getUserInfoFromServer(), //получаем данные о пользователе\r\n        api.getInitialCards() // Получаем массив карточек\r\n      ])\r\n        .then((data) => {          \r\n          const [userData, cardsData] = data;\r\n          \r\n          setCurrentUser(userData); //меняем состояния \r\n          setCards(cardsData);\r\n        })\r\n        .catch((err) => { console.log(\"ошибка err\") })\r\n    }\r\n  }, [loggedIn]);\r\n\r\n\r\n  // Обработчик клика по лайку\r\n  function handleCardLike(card) {\r\n    // Проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);    \r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки    \r\n\r\n    api.changeLikeCardStatus(card, isLiked)\r\n      .then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);  // Обновляем стейт\r\n      })\r\n      .catch((err) => { api.setErrorServer(err); });\r\n  }\r\n\r\n  // Обработчик кнопки удаления карточки\r\n  function handleCardDelete(cardToDel) {\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.deleteCardToServer(cardToDel)\r\n      .then(() => {\r\n        // Формируем новый массив на основе имеющегося, если ИД совпадает с ИД \r\n        // удаляемой карточки, то она не должна попасть в новый массив\r\n        const newCards = cards.filter((c) => c._id !== cardToDel._id && c);\r\n        setCards(newCards);  // Обновляем стейт\r\n      })\r\n      .catch((err) => { api.setErrorServer(err); });\r\n  }\r\n\r\n  // Обработчик кнопки Сохранить в попапе редактирования профиля\r\n  function handleUpdateUser(inputValues) {\r\n    api.saveUserInfoToServer(inputValues)   // Сохраняем на сервере\r\n      .then((userData) => {\r\n        closeAllPopups()\r\n        setCurrentUser(userData)\r\n      }) // устанавливаем новый стэйт: новые данные пользователя\r\n      .catch((err) => {\r\n        api.setErrorServer(err);\r\n      })\r\n  }\r\n\r\n  // Обработчик кнопки Сохранить в попапе редактирования аватара\r\n  function handleUpdateAvatar(avatar) {\r\n    api.saveAvatarToServer(avatar)   // Сохраняем на сервере\r\n      .then((userData) => {\r\n        setCurrentUser(userData)\r\n        closeAllPopups()\r\n      }) // устанавливаем новый стэйт: новый аватар\r\n      .catch((err) => {\r\n        api.setErrorServer(err);\r\n      })\r\n  }\r\n\r\n  // Обработчик кнопки Создать в попапе добавления карточки\r\n  function handleAddPlace(newCard) {\r\n    api.saveCardToServer(newCard)   // Сохраняем на сервере\r\n      .then((newCard) => {\r\n\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n      }) // Обновляем массив с карточками, добавляем загруженную\r\n      .catch((err) => { api.setErrorServer(err); })\r\n  }\r\n\r\n  // Обработчики открытия попапов\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function onInfoTooltip(message, status) {\r\n    setIsInfoTooltip({\r\n      isOpen: true,\r\n      message: message,\r\n      status: status\r\n    });\r\n  }\r\n\r\n  // Обработчик закрытия попапов\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDelCardPopupOpen(false);\r\n    setIsInfoTooltip(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleAuthRegister(email, password) {\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        if (res.email) {\r\n          onInfoTooltip('Вы успешно зарегистрировались!', 'ok')\r\n          history.push('/sign-in');\r\n          changeCurrUrl('/sign-in');\r\n          return;\r\n        }\r\n        onInfoTooltip('Что-то пошло не так! Попробуйте ещё раз.', 'error')\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        onInfoTooltip('Что-то пошло не так! Попробуйте ещё раз.', 'error');\r\n        console.log(err)\r\n      });\r\n  }\r\n  function handleLogin(email) {\r\n    setLoggedIn(true);\r\n    setUserEmail(email);\r\n  }\r\n  function handleAuthLogin(email, password) {\r\n    return auth.authorize(email, password)\r\n    .then((data) => {\r\n      if (data) {      \r\n        localStorage.setItem(\"token\", data.token);        \r\n        handleLogin(email);\r\n        history.push('/');\r\n        window.location.reload();//обновляю страницу, чтобы новый юзер отобразился\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  function tokenCheck() {\r\n    const jwt = localStorage.getItem(\"token\");\r\n    \r\n    if (jwt) {\r\n      auth.getToken(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            const userEmail = {\r\n              email: res.email\r\n            }\r\n            handleLogin();\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      } else {\r\n        return;\r\n      }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck(); // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function signOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('token');\r\n    setUserEmail('')\r\n  }\r\n\r\n  function changeCurrUrl(url) {\r\n    setCurrURL(url);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCurrURL(location.pathname);\r\n  }, [location.pathname, currURL]);\r\n\r\n\r\n  // Объект с состояниями попапов\r\n  const popupStateContext = {\r\n    isEditProfilePopupOpen,\r\n    isEditAvatarPopupOpen,\r\n    isAddPlacePopupOpen\r\n  }\r\n\r\n  function handleDelCardPopup(card) {\r\n    setIsDelCardPopupOpen(true);\r\n    setCardToDel(card);\r\n  }\r\n\r\n  return (\r\n    <StatePopup.Provider value={popupStateContext}>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"page\">\r\n          <Header\r\n            email={userEmail}\r\n            signOut={signOut}\r\n            loggedIn={loggedIn}\r\n            currURL={currURL}\r\n            changeCurrUrl={changeCurrUrl} />\r\n          <Switch>\r\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={() => <Main\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick} // Обработчик клика по карточке\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDelCardPopup}\r\n            />\r\n            } />\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                changeCurrUrl={changeCurrUrl}\r\n                authRegister={handleAuthRegister}\r\n              />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login                \r\n                authLogin={handleAuthLogin}\r\n              />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n\r\n\r\n\r\n          {/*Создаем попап для аватара и передаем пропсы и обработчики*/}\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          {/*Создаем попап для профиля и передаем пропсы и обработчики*/}\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          {/*Создаем попап для новой карточки и передаем пропсы и обработчики*/}\r\n          <AddCardPopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlace}\r\n          />\r\n\r\n          {/*Создаем попап для подтверждения удаления карточки и передаем пропсы и обработчики*/}\r\n          <DelCardPopup\r\n            isOpen={isDelCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onDelCard={handleCardDelete}\r\n            card={cardToDel}\r\n          >\r\n          </DelCardPopup>\r\n\r\n          {/*Создаем попап с картинкой и передаем пропсы и обработчики*/}\r\n          <PopupWithImage\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n          />\r\n\r\n          {/*Попап с сообщением*/}\r\n          {<InfoTooltip\r\n            isOpen={isInfoTooltip}\r\n            onClose={closeAllPopups}\r\n          />}\r\n\r\n          {loggedIn && <Footer />}\r\n\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </StatePopup.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Login.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\ProtectedRoute.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\components\\Card.js",[],"E:\\Users\\Янис\\dev\\react-mesto-api-full\\frontend\\src\\contexts\\StatePopup.js",[],{"ruleId":"229","replacedBy":"230"},{"ruleId":"231","replacedBy":"232"},{"ruleId":"233","severity":1,"message":"234","line":1,"column":38,"nodeType":"235","messageId":"236","endLine":1,"endColumn":49},{"ruleId":"233","severity":1,"message":"237","line":36,"column":30,"nodeType":"235","messageId":"236","endLine":36,"endColumn":51},{"ruleId":"238","severity":1,"message":"239","line":221,"column":6,"nodeType":"240","endLine":221,"endColumn":34,"suggestions":"241"},{"ruleId":"238","severity":1,"message":"239","line":225,"column":6,"nodeType":"240","endLine":225,"endColumn":8,"suggestions":"242"},{"ruleId":"229","replacedBy":"243"},{"ruleId":"231","replacedBy":"244"},{"ruleId":"233","severity":1,"message":"245","line":10,"column":11,"nodeType":"235","messageId":"236","endLine":10,"endColumn":18},{"ruleId":"229","replacedBy":"246"},{"ruleId":"231","replacedBy":"247"},{"ruleId":"229","replacedBy":"248"},{"ruleId":"231","replacedBy":"249"},{"ruleId":"250","severity":1,"message":"251","line":127,"column":3,"nodeType":"252","messageId":"253","endLine":127,"endColumn":10},{"ruleId":"233","severity":1,"message":"254","line":205,"column":19,"nodeType":"235","messageId":"236","endLine":205,"endColumn":28},"no-native-reassign",["255"],"no-negated-in-lhs",["256"],"no-unused-vars","'useCallback' is defined but never used.","Identifier","unusedVar","'setIsDelCardPopupOpen' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'tokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["257"],["258"],["255"],["256"],"'history' is assigned a value but never used.",["255"],["256"],["255"],["256"],"no-dupe-keys","Duplicate key 'baseUrl'.","ObjectExpression","unexpected","'userEmail' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"259","fix":"260"},{"desc":"261","fix":"262"},"Update the dependencies array to be: [location.pathname, currURL, tokenCheck]",{"range":"263","text":"264"},"Update the dependencies array to be: [tokenCheck]",{"range":"265","text":"266"},[6605,6633],"[location.pathname, currURL, tokenCheck]",[6680,6682],"[tokenCheck]"]